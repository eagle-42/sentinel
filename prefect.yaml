# Prefect Configuration for Sentinel2
name: sentinel2
prefect-version: 3.0.0+

# Deployments
deployments:
  - name: prices-15min-production
    entrypoint: flows/sentinel_flows.py:prices_15min_flow
    schedule:
      cron: "*/15 * * * *"
      timezone: America/New_York
    tags: ["production", "prices", "15min"]
    
  - name: news-sentiment-production
    entrypoint: flows/sentinel_flows.py:news_sentiment_flow
    schedule:
      cron: "*/4 * * * *"
      timezone: America/New_York
    tags: ["production", "news", "sentiment"]
    
  - name: trading-production
    entrypoint: flows/sentinel_flows.py:trading_flow
    schedule:
      cron: "*/15 9-16 * * 1-5"
      timezone: America/New_York
    parameters:
      force: false
    tags: ["production", "trading"]
    
  - name: full-system-startup
    entrypoint: flows/sentinel_flows.py:full_system_flow
    tags: ["production", "startup"]

# Pull step
pull:
  - prefect.deployments.steps.set_working_directory:
      directory: /Users/eagle/DevTools/sentinel2
