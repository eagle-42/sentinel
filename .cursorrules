# ğŸš€ RÃˆGLES CURSOR - SENTINEL2

Tu es un assistant IA spÃ©cialisÃ© dans le dÃ©veloppement du projet **Sentinel2 - SystÃ¨me de Trading Algorithmique TDD**.

## ğŸ“‹ CONTEXTE DU PROJET

**Sentinel2** est un systÃ¨me de trading algorithmique TDD (Test-Driven Development) avec une interface Streamlit moderne. Le projet est **finalisÃ© et validÃ©** avec 100% de tests rÃ©ussis.

## ğŸ¯ RÃˆGLES FONDAMENTALES (NON NÃ‰GOCIABLES)

### **TDD OBLIGATOIRE**
- **Tests AVANT implÃ©mentation** : Toujours commencer par les tests
- **Couverture minimale** : 80% sur les services critiques
- **Tests unitaires** : `tests/unit/` pour chaque service
- **Tests d'intÃ©gration** : `tests/integration/` pour l'assemblage

### **CONFIGURATION CENTRALISÃ‰E**
- **âŒ JAMAIS de variables en brut** : Toujours utiliser `src/constants.py`
- **âŒ JAMAIS de chemins en brut** : Utiliser `CONSTANTS.get_data_path()`
- **âœ… Configuration par environnement** : `.env` + `config/`

### **ARCHITECTURE MODULAIRE**
- **Fonctions < 100 lignes** : DÃ©couper si nÃ©cessaire
- **Classes spÃ©cialisÃ©es** : Une responsabilitÃ© par classe
- **Type hints partout** : Annotations de types obligatoires
- **Imports organisÃ©s** : Standard, tiers, local

## ğŸ—ï¸ STRUCTURE Ã€ RESPECTER

```
src/
â”œâ”€â”€ core/                 # Modules fondamentaux
â”œâ”€â”€ data/                 # Gestion des donnÃ©es
â”œâ”€â”€ gui/                  # Interface Streamlit
â”‚   â”œâ”€â”€ pages/            # Pages de l'interface
â”‚   â”œâ”€â”€ services/         # Services GUI
â”‚   â”œâ”€â”€ components/       # Composants rÃ©utilisables
â”‚   â””â”€â”€ config/           # Configuration GUI
â”œâ”€â”€ models/               # ModÃ¨les ML
â”œâ”€â”€ notebooks/            # Notebooks Jupyter
â””â”€â”€ tests/                # Tests TDD complets
```

## ğŸ“Š RÃˆGLES DE DONNÃ‰ES (CRITIQUES)

### **StratÃ©gie Parquet**
- **âŒ JAMAIS de doublons** : Un seul fichier par type de donnÃ©es
- **âœ… Sauvegarde incrÃ©mentale** : Ajouter les nouvelles donnÃ©es au fichier existant
- **âœ… CohÃ©rence** : Garder l'historique complet dans un seul fichier

## ğŸš€ RÃˆGLES STREAMLIT

### **Bonnes Pratiques Officielles**
- **Un seul point d'entrÃ©e** : `main.py` avec fonction `main()`
- **CSS centralisÃ©** : `assets/custom.css` injectÃ© une seule fois
- **Configuration centralisÃ©e** : `config/settings.py`
- **SÃ©paration stricte** : Pages UI, Services mÃ©tier, Tests unitaires

### **Performance**
- **Cache contrÃ´lÃ©** : `@st.cache_data` et `@st.cache_resource` avec TTL
- **Chargement paresseux** : DonnÃ©es chargÃ©es uniquement si nÃ©cessaire
- **Responsive design** : Adaptation mobile et desktop

## ğŸ§ª RÃˆGLES DE TEST

### **Structure**
```
tests/
â”œâ”€â”€ unit/           # Tests unitaires rapides
â”œâ”€â”€ integration/    # Tests d'intÃ©gration
â””â”€â”€ e2e/           # Tests end-to-end
```

### **Commandes**
```bash
# Tests unitaires
uv run pytest tests/unit/ -v

# Tests complets
uv run python scripts/test_system.py
```

## ğŸ“ˆ MÃ‰TRIQUES DE PERFORMANCE

- **Temps de chargement** : < 3 secondes pour l'interface
- **MÃ©moire** : < 500MB pour l'application
- **Cache hit rate** : > 80%
- **Tests** : < 30 secondes pour la suite complÃ¨te
- **Couverture de code** : 80% minimum

## ğŸ¯ COMPORTEMENT ATTENDU

### **Pour une nouvelle fonctionnalitÃ©**
1. **CrÃ©er les tests d'abord** (TDD)
2. **Utiliser `src/constants.py`** pour toutes les valeurs
3. **Respecter l'architecture modulaire** (fonctions < 100 lignes)
4. **Documenter avec docstrings**
5. **Respecter la stratÃ©gie Parquet** (un seul fichier par type)
6. **Utiliser les bonnes pratiques Streamlit**

### **Pour une modification**
1. **VÃ©rifier que les tests existants passent**
2. **Modifier le code en respectant l'architecture**
3. **Mettre Ã  jour les tests si nÃ©cessaire**
4. **VÃ©rifier la performance**
5. **Mettre Ã  jour la documentation**

### **Pour un debug**
1. **Analyser les logs dans `data/logs/`**
2. **VÃ©rifier la configuration dans `src/constants.py`**
3. **Tester les services individuellement**
4. **Respecter l'architecture modulaire**
5. **Documenter la solution**

## ğŸ”§ COMMANDES UTILES

### **Lancement**
```bash
# Interface Streamlit
uv run streamlit run src/gui/main.py --server.port 8501

# Tests
uv run python scripts/test_system.py

# DÃ©monstration
uv run python src/gui/demo_production.py
```

### **DÃ©veloppement**
```bash
# Linting
uv run ruff check src
uv run black --check src

# Type checking
uv run mypy src/core

# Tests spÃ©cifiques
uv run pytest src/gui/tests/test_production_integration.py -v
```

## ğŸ“š RESSOURCES

- **README principal** : `/Users/eagle/DevTools/sentinel2/README.md`
- **README GUI** : `/Users/eagle/DevTools/sentinel2/src/gui/README.md`
- **RÃ¨gles complÃ¨tes** : `/Users/eagle/DevTools/sentinel2/.cursor/rules`
- **Configuration** : `/Users/eagle/DevTools/sentinel2/.cursor/settings.json`

## ğŸ‰ OBJECTIF

Maintenir un code de qualitÃ© professionnelle et maintenable, respectant les principes TDD et l'architecture modulaire, avec une interface Streamlit moderne et performante.

**Projet finalisÃ© le** : 24 Septembre 2025  
**Version** : 2.0  
**Statut** : âœ… **PROJET FINALISÃ‰ ET VALIDÃ‰**  
**QualitÃ©** : ğŸ† **EXCELLENTE**
